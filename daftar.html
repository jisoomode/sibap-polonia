<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Pendaftaran BAP | SIBAP Polonia</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f4f6f8;
}

header{
  background:#0c3b5f;
  color:#fff;
  padding:35px;
  text-align:center;
}

.container{
  max-width:900px;
  margin:40px auto;
  background:#fff;
  padding:40px;
  border-radius:12px;
}

.info{
  background:#f0f6fa;
  border-left:6px solid #0c3b5f;
  padding:20px;
  margin-bottom:30px;
  line-height:1.6;
}

label{
  display:block;
  margin-top:18px;
  font-weight:bold;
}

input, select{
  width:100%;
  padding:12px;
  margin-top:8px;
  border:1px solid #ccc;
  border-radius:6px;
  font-size:15px;
}

button{
  margin-top:30px;
  width:100%;
  padding:14px;
  background:#0c3b5f;
  color:#fff;
  border:none;
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
}

.note{
  margin-top:15px;
  font-size:13px;
  color:#555;
}
</style>
</head>

<body>

<header>
  <h1>Pendaftaran BAP Paspor</h1>
  <p>Kantor Imigrasi Kelas I TPI Polonia</p>
</header>

<div class="container">

  <div class="info">
    <b>Pendaftaran ini merupakan pendaftaran awal.</b><br>
    Setelah dokumen diverifikasi oleh petugas <b>Loket 3</b>,
    pemohon <b>wajib datang langsung</b> ke Kantor Imigrasi Kelas I TPI Polonia
    dengan membawa dokumen asli untuk mendapatkan
    <b>Tanda Terima Kedatangan BAP</b>.
  </div>

  <form id="formDaftar">

    <label>Tanggal BAP</label>
    <input type="text" id="tanggalBAP" readonly>

    <label>Nama Lengkap</label>
    <input type="text" required>

    <label>NIK</label>
    <input type="text" maxlength="16" required>

    <label>Nomor WhatsApp Aktif</label>
    <input type="text" required>

    <label>Pekerjaan</label>
    <input type="text" required>

    <label>Tujuan Penggunaan Paspor</label>
    <input type="text" required>

    <label>Jenis Permohonan</label>
    <select id="jenisPermohonan" required>
      <option value="">-- Pilih Jenis Permohonan --</option>
      <option value="hilang">Paspor Hilang</option>
      <option value="rusak">Paspor Rusak</option>
      <option value="perubahan">Perubahan Data</option>
    </select>

    <div class="note" id="syaratText"></div>

    <button type="submit">Lanjut ke Upload Dokumen</button>

    <div class="note">
      *Upload dokumen dilakukan melalui Google Form resmi SIBAP Polonia
    </div>

  </form>

</div>

<script>
/* =========================
   AMBIL TANGGAL DARI JADWAL
========================= */
const params = new URLSearchParams(window.location.search);
const tanggal = params.get("tanggal");

if(!tanggal){
  alert("Tanggal tidak valid");
  window.location.href = "jadwal.html";
}

document.getElementById("tanggalBAP").value = tanggal;

/* =========================
   LINK GOOGLE FORM
========================= */
const formLink = {
  hilang: "https://docs.google.com/forms/d/e/1FAIpQLSd4gYGJRgE5vdWmN39rkRKxjNE_5Js7Xi2bfo5XNOPg2pgY6w/viewform?usp=header",
  rusak: "https://docs.google.com/forms/d/e/1FAIpQLSewTDJgOyGhX2_LU6RjmfHwJ-G4JRFktx4D5WbV_KN8wChhEw/viewform?usp=header",
  perubahan: "https://docs.google.com/forms/d/e/1FAIpQLSfl73xC6mB15Sc1nLyDmESUa2_sS7dNyb8IRPSIr3wQz7ARZA/viewform?usp=header"
};

/* =========================
   TAMPILKAN SYARAT
========================= */
const jenis = document.getElementById("jenisPermohonan");
const syarat = document.getElementById("syaratText");

jenis.addEventListener("change", ()=>{
  if(jenis.value === "hilang"){
    syarat.innerHTML = `
      <b>Syarat Wajib:</b><br>
      KTP, KK, Akta Kelahiran, Surat Keterangan Kehilangan Polisi, Halaman Data Paspor<br>
      <b>Berkas Pendukung:</b> Ijazah / Akta Nikah
    `;
  } else if(jenis.value === "rusak"){
    syarat.innerHTML = `
      <b>Syarat Wajib:</b><br>
      KTP, KK, Akta Kelahiran, Halaman Data Paspor<br>
      <b>Berkas Pendukung:</b> Ijazah / Akta Nikah
    `;
  } else if(jenis.value === "perubahan"){
    syarat.innerHTML = `
      <b>Syarat Wajib:</b><br>
      KTP, KK, Akta Kelahiran, Surat Penetapan Pengadilan<br>
      <b>Berkas Pendukung:</b> Ijazah / Akta Nikah
    `;
  } else {
    syarat.innerHTML = "";
  }
});

/* =========================
   SUBMIT â†’ REDIRECT FORM
========================= */
document.getElementById("formDaftar").addEventListener("submit", function(e){
  e.preventDefault();

  if(!jenis.value){
    alert("Pilih jenis permohonan");
    return;
  }

  // redirect ke Google Form sesuai jenis
  window.location.href = formLink[jenis.value] + "&tanggal=" + encodeURIComponent(tanggal);
});
</script>

</body>
</html>

